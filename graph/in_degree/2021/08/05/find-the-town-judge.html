<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Find the town judge | Coding challenges</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Find the town judge" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Here is an interesting problem that I enjoyed solving using UMPIRE method." />
<meta property="og:description" content="Here is an interesting problem that I enjoyed solving using UMPIRE method." />
<link rel="canonical" href="https://archanakalburgi.github.io/code_challenges/graph/in_degree/2021/08/05/find-the-town-judge.html" />
<meta property="og:url" content="https://archanakalburgi.github.io/code_challenges/graph/in_degree/2021/08/05/find-the-town-judge.html" />
<meta property="og:site_name" content="Coding challenges" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-05T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Find the town judge" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-08-05T00:00:00-05:00","datePublished":"2021-08-05T00:00:00-05:00","description":"Here is an interesting problem that I enjoyed solving using UMPIRE method.","headline":"Find the town judge","mainEntityOfPage":{"@type":"WebPage","@id":"https://archanakalburgi.github.io/code_challenges/graph/in_degree/2021/08/05/find-the-town-judge.html"},"url":"https://archanakalburgi.github.io/code_challenges/graph/in_degree/2021/08/05/find-the-town-judge.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/code_challenges/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://archanakalburgi.github.io/code_challenges/feed.xml" title="Coding challenges" /><link rel="shortcut icon" type="image/x-icon" href="/code_challenges/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><style>
@import url('https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap');
  .site-title{
    color: #006ad1;
    font-family: 'Mochiy Pop One', sans-serif;
    font-weight: 500;
    font-size: 40px;
  }
</style>
<header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/code_challenges/">Coding challenges</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/code_challenges/about/">About Me</a><a class="page-link" href="/code_challenges/_pages/back_to_tuktuk.html">Back to Tuktuk</a><a class="page-link" href="/code_challenges/search/">Search</a><a class="page-link" href="/code_challenges/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Find the town judge</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-08-05T00:00:00-05:00" itemprop="datePublished">
        Aug 5, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/code_challenges/categories/#graph">graph</a>
        &nbsp;
      
        <a class="category-tags-link" href="/code_challenges/categories/#in_degree">in_degree</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Here is an interesting problem that I enjoyed solving using UMPIRE method.</p>

<p align="center">
  <img width="460" height="300" src="/images/image_tj.jpg" />
</p>

<h1 id="problem-statement">Problem statement</h1>

<p>In a town, there are <em>n</em> people labeled from 1 to n. There is a rumor that one of these people is secretly the town judge.</p>

<p>If the town judge exists, then:</p>

<ul>
  <li>The town judge trusts nobody.</li>
  <li>Everybody (except for the town judge) trusts the town judge.</li>
</ul>

<p>There is exactly one person that satisfies properties 1 and 2.</p>

<p>You are given an array <em>trust</em> where trust[i] = [ai, bi] representing that the person labeled a<sub>i</sub> trusts the person labeled b<sub>i</sub>.</p>

<p>Return the label of the town judge if the town judge exists and can be identified, or return -1 otherwise.</p>

<p>For Example:</p>
<ul>
  <li>For n = 2 and trust = [[1,2]] return 2, because 1 trusts 2, 2 trusts no one</li>
</ul>

<h1 id="understand">Understand</h1>

<p><strong>Happy cases</strong>:</p>

<p>Input: n = 3, trust = [[1,2],[3,2]]<br />
Output: 2</p>

<p>Input: n = 4, trust = [[1,3],[1,4],[2,3],[2,4],[4,3]]<br />
Output: 3</p>

<p>Input: n = 4, trust = [[1,2],[2,4],[3,4],[1,4]]<br />
Output: 4</p>

<p>Input: n = 3, trust = [[1,2],[2,3]]<br />
Output: -1</p>

<p>Input: n = 3, trust = [[1,3],[2,3],[3,1]]<br />
Output: -1</p>

<p>Input: n = 2, trust = [[1,2],[2,1]]<br />
Output: -1</p>

<p>Input: n = 5, trust = [[1,3],[1,2],[1,4],[1,5]]<br />
Output: -1</p>

<h1 id="match">Match</h1>

<p><strong>Lists</strong>:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// iterate _trust_ to create a list of list, 
    list[i] <span class="o">=</span> list of people i trusts, 
// find a member common to all the lists <span class="o">(</span>town judge<span class="o">)</span>
// <span class="k">if </span>no common member found: 
    <span class="k">return</span> <span class="nt">-1</span> 
</code></pre></div></div>
<ul>
  <li>complexity:
    <ul>
      <li>time: O(n), where n = len(<em>trust</em>)
        <ul>
          <li>time to traverse <em>trust</em> array</li>
        </ul>
      </li>
      <li>space: O(m<sup>2</sup>), where m = n
        <ul>
          <li>for example, if n = 5, trust = [[1,2],[1,3],[1,4],[1,5],[2,1],[2,3],[2,4],[2,5],[3,1],[3,2],[3,4],[3,5],[4,1],[4,2],[4,3],[4,5],[5,1],[5,2],[5,3],[5,4]]</li>
          <li>after iterating through <em>trust</em> we will have a list = [[2,3,4,5],[1,3,4,5],[1,2,4,5],[1,2,3,5],[1,2,3,4]]</li>
          <li>space = O(m*m-1) ≈ O(m<sup>2</sup>), where m = n</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><strong>Linked List</strong></p>
<ul>
  <li>linked list will not optimize the m<sup>2</sup> complexity</li>
</ul>

<p><strong>Stack and Queue</strong></p>
<ul>
  <li>stacks and Queue data structure help us in maintaining LIFO or FIFO order</li>
  <li>the problem does not require us to look or maintain LIFO or FIFO order</li>
  <li>so it’s better to avoid stack or queue</li>
</ul>

<p><strong>Heap</strong></p>
<ul>
  <li>Since we are not required to sort, heap will not be useful to solve this problem</li>
</ul>

<p><strong>Hashmap</strong></p>
<ul>
  <li>Oh, yes hashmaps!!</li>
  <li>we could have n keys whose values can be the people a particular person trusts</li>
  <li>since every person is unique, the keys are unique</li>
  <li>also, there is no need to maintain the order of people</li>
  <li>plus hashmaps have constant time look up, which will make our solution faster</li>
  <li>so hashmap it is!</li>
</ul>

<h1 id="plan">Plan</h1>

<ul>
  <li>build a hashmap, where keys are the people ranging from 1-n and the values are can the appended looking up the <em>trust</em> array</li>
  <li>in other words we are building a graph</li>
  <li>the relation between the nodes is given in the <em>trust</em> array</li>
  <li>the first property, the town judge trusts nobody, makes town judge a sink node, and</li>
  <li>the second property, everybody (except for the town judge) trusts the town judge, essentially tells that all the nodes in the graph are connected to the sink node</li>
  <li>this is clearly a dependency graph problem</li>
  <li>steps involved:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  // construct a graph
  // <span class="k">if </span>sink node not found: 
          <span class="k">return</span> <span class="nt">-1</span>
  // <span class="k">if </span>sink node present:
      <span class="k">if </span>all nodes are not connected to sink node:
          <span class="k">return</span> <span class="nt">-1</span>
  // <span class="k">return </span>sink node
</code></pre></div>    </div>
  </li>
</ul>

<h1 id="implement">Implement</h1>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    def findJudge<span class="o">(</span>n: int, trust: List[List[int]]<span class="o">)</span> -&gt; int:
        graph <span class="o">=</span> dict<span class="o">()</span>
        in_degree <span class="o">=</span> dict<span class="o">()</span> <span class="c"># to find sink node</span>
        judge <span class="o">=</span> <span class="nt">-1</span>
        
        <span class="k">for </span>i <span class="k">in </span>range<span class="o">(</span>1,n+1<span class="o">)</span>: <span class="c"># O(n) </span>
            graph[i] <span class="o">=</span> <span class="nb">set</span><span class="o">()</span>
            in_degree[i] <span class="o">=</span> 0
            
        <span class="k">for </span>edge <span class="k">in </span>trust: <span class="c"># O(t)</span>
            graph[edge[0]].add<span class="o">(</span>edge[1]<span class="o">)</span>
            in_degree[edge[0]] +<span class="o">=</span> 1
        
        <span class="k">for </span>key <span class="k">in </span>in_degree.keys<span class="o">()</span>: <span class="c"># O(n)</span>
            <span class="k">if </span>in_degree[key]<span class="o">==</span>0: <span class="c"># only one sink node, only one judge per town</span>
                judge <span class="o">=</span> key
   
        <span class="k">for </span>key <span class="k">in </span>graph.keys<span class="o">()</span>:# O<span class="o">(</span>n<span class="o">)</span>
            <span class="k">if </span>judge not <span class="k">in </span>graph[key] and key!<span class="o">=</span>judge: <span class="c"># in order to exclude the judge himself</span>
                <span class="k">return</span> <span class="nt">-1</span>
            
        <span class="k">return </span>judge
</code></pre></div></div>

<h1 id="review">Review</h1>

<p>Input: n = 2, trust = [[1,2]]</p>
<ul>
  <li>for this problem,
    <ul>
      <li>graph = {1: {2}, 2: set()}</li>
      <li>in_degree = {1: 1, 2: 0}</li>
      <li>judge = 2 (in_degree[2]==0)</li>
    </ul>
  </li>
</ul>

<p>Output: 2</p>

<h1 id="evaluate">Evaluate</h1>

<ul>
  <li>time: n + t + n + n ~ O(3n + t) ~ O(n + t)
    <ul>
      <li>if t « n ~ O(n)</li>
      <li>where n = n(number of people) and t = len(trust)</li>
    </ul>
  </li>
  <li>space: O(n)
    <ul>
      <li>graph and in_degree</li>
    </ul>
  </li>
</ul>

  </div><a class="u-url" href="/code_challenges/graph/in_degree/2021/08/05/find-the-town-judge.html" hidden></a>
</article>

      </div>
    </main><style type="text/css">
.div-content {
    background: linear-gradient(#B7E8EB,#fff);
}
</style>
<div class="div-content">
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="100%" height="25vh" preserveAspectRatio="none" viewBox="0 0 1440 226"><g mask="url(&quot;#SvgjsMask1156&quot;)" fill="none"><path d="M1488 226L0 226 L0 80.26Q68.77 29.04, 120 97.81Q140.79 46.6, 192 67.39Q262.07 17.47, 312 87.54Q388.6 44.13, 432 120.73Q481.76 50.5, 552 100.26Q571.07 47.33, 624 66.4Q654.55 24.95, 696 55.51Q752.63 40.14, 768 96.77Q844.17 52.94, 888 129.11Q914.33 35.44, 1008 61.77Q1085.9 19.67, 1128 97.58Q1164.01 13.59, 1248 49.6Q1320.61 2.21, 1368 74.81Q1434.42 21.23, 1488 87.65z" fill="rgba(37, 70, 125, 1)"></path><path d="M1488 226L0 226 L0 139.63Q51.97 71.6, 120 123.57Q173.91 57.48, 240 111.39Q324.96 76.35, 360 161.31Q378.97 108.28, 432 127.25Q458.43 81.68, 504 108.11Q562.99 95.1, 576 154.09Q627.24 85.32, 696 136.56Q771.65 92.22, 816 167.87Q883.3 115.18, 936 182.48Q971.08 97.56, 1056 132.63Q1122.48 79.11, 1176 145.59Q1222.8 72.39, 1296 119.18Q1362.69 65.87, 1416 132.56Q1463.94 108.5, 1488 156.45z" fill="rgba(53, 108, 177, 1)"></path><path d="M1560 226L0 226 L0 207.84Q25.3 161.14, 72 186.45Q131.51 173.96, 144 233.48Q197.38 166.85, 264 220.23Q311.63 195.87, 336 243.5Q342.56 178.06, 408 184.61Q477.85 134.46, 528 204.31Q548.42 152.74, 600 173.16Q661.22 162.38, 672 223.6Q723.45 155.05, 792 206.5Q849.24 191.74, 864 248.98Q866.61 179.59, 936 182.2Q966.03 140.23, 1008 170.26Q1079.24 121.5, 1128 192.73Q1181.18 173.91, 1200 227.1Q1236.74 143.84, 1320 180.58Q1412.09 152.67, 1440 244.76Q1485.92 170.68, 1560 216.6z" fill="rgba(255, 255, 255, 1)"></path></g><defs><mask id="SvgjsMask1156"><rect width="1440" height="226" fill="#ffffff"></rect></mask></defs></svg>
</div>
<footer class="site-footer h-card">
  <data class="u-url" href="/code_challenges/%20/"></data>
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col">
<!--         <p class="feed-subscribe">
          <a href="/code_challenges/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/code_challenges/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p> -->
      </div>
      <div class="footer-col">
        <p>Keeping my coding skills sharp.</p>
      </div>
    </div>
    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/archanakalburgi" target="_blank" title="archanakalburgi"><svg class="svg-icon grey"><use xlink:href="/code_challenges/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/archanakalburgi" target="_blank" title="archanakalburgi"><svg class="svg-icon grey"><use xlink:href="/code_challenges/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>
  </div>

</footer>
</body>

</html>
